apiVersion: v1
kind: Pod
spec:
  containers:
  - name: otel-collector
    image: $containerRegistryUrl/otel-collector@$digest
    command: []
    env:
    - name: TELEMETRY_COLLECTION_ENABLED
      value: $telemetryCollectionEnabled
    - name: TELEMETRY_PATH
      value: "$telemetryPath"
    - name: PROMETHEUS_ENDPOINT
      value: "$prometheusEndpoint"
    - name: LOKI_ENDPOINT
      value: "$lokiEndpoint"
    - name: TEMPO_ENDPOINT
      value: "$tempoEndpoint"
    resources:
      requests:
        cpu: 200m
        memory: 512Mi
    volumeMounts:
    - name: telemetrymounts
      mountPath: $telemetryMountPath
      readOnly: false

