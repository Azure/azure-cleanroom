apiVersion: v1
kind: Pod
spec:
  containers:
  - name: ccr-governance
    image: $containerRegistryUrl/ccr-governance@$digest
    command: []
    env:
    - name: ccrgovEndpoint
      value: $cgsEndpoint
    - name: ccrgovApiPathPrefix
      value: app/contracts/$contractId
    - name: serviceCert
      value: $serviceCertBase64
    - name: serviceCertDiscoveryEndpoint
      value: $serviceCertDiscoveryEndpoint
    - name: serviceCertDiscoverySnpHostData
      value: $serviceCertDiscoverySnpHostData
    - name: serviceCertDiscoverySkipDigestCheck
      value: $serviceCertDiscoverySkipDigestCheck
    - name: serviceCertDiscoveryConstitutionDigest
      value: $serviceCertDiscoveryConstitutionDigest
    - name: serviceCertDiscoveryJsappBundleDigest
      value: $serviceCertDiscoveryJsappBundleDigest
    - name: TELEMETRY_MOUNT_PATH
      value: $telemetryMountPath
    resources:
      requests:
        cpu: 200m
        memory: 512Mi
    volumeMounts:
    - name: uds
      mountPath: /mnt/uds
      readOnly: false

